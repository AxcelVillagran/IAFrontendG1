import '../models/network_data.dart';
import 'dart:convert';
import 'package:http/http.dart' as http;

class AIService {
  static Future<Map<String, dynamic>> analyzeData(List<NetworkData> data) async {
    // Interact with the AI model to analyze the data
    // For now, mock some results
    return {
      'result': 'No Malware Detected',
      // More results
    };
  }

  static Future<void> fetchData() async {
  // URL del servidor Flask (asegúrate de reemplazarlo con la tuya)
  final url = Uri.parse('http://127.0.0.1/data');

  try {
    // Hacer la petición GET
    final response = await http.get(url);

    // Manejar la respuesta
    if (response.statusCode == 200) {
      // Decodificar la respuesta, ya que puede ser un gran volumen de datos
      final List<dynamic> responseData = jsonDecode(response.body);

      // Trabajar con los datos recibidos (ejemplo de impresión del tamaño)
      print('Cantidad de registros recibidos: ${responseData.length}');

      // Procesar los datos si es necesario
      for (var record in responseData) {
        // Hacer algo con cada registro, como guardarlo en una lista, etc.
        print(record);
      }
    } else {
      print('Error en la petición: ${response.statusCode}');
    }
  } catch (e) {
    print('Error: $e');
  }
}
}
